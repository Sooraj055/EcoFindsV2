<!doctype html>
<html lang="en" class="h-full">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>EcoFinds – Donate</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link rel="stylesheet" href="assets/css/styles.css" />
	<script>tailwind.config = { darkMode: 'class' };</script>
</head>
<body class="min-h-full bg-emerald-50/40 dark:bg-zinc-950 text-zinc-100">
	<div id="navbar"></div>
	<main class="container py-8">
		<h1 class="text-2xl font-bold">Donations ♻️</h1>
		<div id="grid" class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
	</main>
	<div id="footer"></div>
	<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
	<script src="assets/js/supabase.js"></script>
	<script src="assets/js/common.js"></script>
	<script src="assets/js/storage.js"></script>
	<script>
		(async function(){
			const { data, error } = await sb.from('products').select('*').eq('price', 0).order('created_at',{ascending:false});
			if(error){ console.error(error); return; }
			document.getElementById('grid').innerHTML = (data||[]).map(p=>`
				<a href='product.html?id=${p.id}' class='block bg-zinc-900 card overflow-hidden'>
					<img src='${p.image||''}' class='w-full h-48 object-cover'>
					<div class='p-4'>
						<div class='flex items-center justify-between'><div class='font-semibold'>${p.title}</div><div class='text-emerald-400 font-bold'>₹${p.price}</div></div>
					</div>
				</a>`).join('');
		})();
	</script>
</body>
</html>
